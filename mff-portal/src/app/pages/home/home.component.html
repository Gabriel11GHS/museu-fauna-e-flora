<section class="hero-section" [@fadeIn] aria-labelledby="hero-titulo-h1">

  <div class="visually-hidden" aria-live="polite" aria-atomic="true">
    {{ liveRegionMessage }}
  </div>

  <div class="hero-background">
    <ngx-slick-carousel
      *ngIf="showCarousel"
      #heroCarousel
      class="hero-carousel"
      [config]="slideConfig"
      (afterChange)="onCarouselAfterChange($event)">
      <div ngxSlickItem *ngFor="let item of mediaItems" class="slide">
        <img [src]="item.image" [alt]="item.alt" />
      </div>
    </ngx-slick-carousel>
    <div class="hero-overlay"></div>
  </div>

  <div class="hero-content">
    <p class="hero-subtitulo">  
      Um acervo digital a céu aberto no ICMC/USP - São Carlos
    </p>
    <a mat-raised-button class="hero-cta" routerLink="/historia">
      Conheça nossa história
    </a>
  </div>

  <button
    class="carousel-play-pause-btn"
    (click)="togglePlayPause()"
    [attr.aria-label]="isCarouselPlaying ? 'Pausar animação do carrossel' : 'Iniciar animação do carrossel'">
    <mat-icon>{{ isCarouselPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
  </button>
</section>

<section class="destaques-section">
  <div class="destaques-container">
    <div *ngFor="let destaque of destaquesPrincipais" class="destaque-card">
      
      <ng-container *ngIf="destaque.imagemIcone; else iconePadrao">
        <img [src]="destaque.imagemIcone" alt="" class="destaque-icone-imagem">
      </ng-container>
      <ng-template #iconePadrao>
        <mat-icon class="destaque-icone">{{ destaque.icone }}</mat-icon>
      </ng-template>

      <h3 class="destaque-titulo">{{ destaque.titulo }}</h3>
      <p class="destaque-descricao">{{ destaque.descricao }}</p>
      <a mat-stroked-button (click)="navigateTo(destaque.link)" class="destaque-link">
        Ver mais
      </a>
    </div>
  </div>
</section>

<!-- Seção Vozes da Natureza -->
<section class="vozes-section">
  <div class="vozes-container">
    <div class="nature-sounds-image">
      <img src="assets/home/voz-natureza.png" alt="Ícone de som da natureza">
    </div>
    <div class="texto-vozes">
      <h2>Vozes da Natureza</h2>
      <p>O projeto "Vozes da Natureza" convida a comunidade da USP para dar voz
        às árvores, transformando dados científicos em histórias cativantes.
        Ouça os áudios e enriqueça sua experiência..</p>
      <a mat-raised-button 
        color="accent" 
        routerLink="/flora"
        [queryParams]="{ comAudio: 'true' }">
        <mat-icon>graphic_eq</mat-icon>
        Ouvir agora
      </a>
    </div>
  </div>
</section>

<!-- Seção do Mapa -->
<section class="locais-section" id="mapa-section">
  <h2>Conheça os locais do Instituto</h2>
  <div class="mapa-container">
    <div id="map" style="height:500px; width:100%;"></div>
  </div>
</section>
