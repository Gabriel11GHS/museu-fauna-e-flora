<div
  *ngIf="!errorMessage && data.length === 0 && allPlantas.length > 0 && (selectedLocal || selectedFamilia || searchTerm)"
  class="no-results-message">
  <p>Nenhuma planta encontrada com os filtros selecionados.</p>
</div>

<div *ngIf="!allPlantas.length && !errorMessage" class="loading-message">
  <p>Carregando dados das plantas...</p>
</div>

<div *ngIf="data.length > 0" class="plant-list">
  <div *ngFor="let item of data; trackBy: trackByPlantId" class="plant-card">

    <div class="card-image-container">
      <img
        [src]="item.fotoIndividuo || item.fotoTaxonomia || 'assets/placeholder-image.png'"
        alt="Foto de {{ item.nomePopular }}"
        class="card-image"
        (error)="updateImageOnError($event)">
    </div>

    <div class="card-content">
      <h3 class="plant-name">{{ item.nomePopular }}</h3>
      <p class="scientific-name">
        <em>{{ item.nomeCientifico }}</em>
      </p>
      <p class="plant-family"><strong>Família:</strong> {{ item.familia }}</p>
      <p class="plant-local"><strong>Local:</strong> {{ item.nomeLocal }}</p>
    </div>

    <div class="card-actions">
      <audio *ngIf="item.trilhaAudio" controls [src]="item.trilhaAudio"
        class="plant-audio">
        Seu navegador não suporta o elemento de áudio.
      </audio>

      <button class="details-button">Saiba Mais</button>
    </div>

  </div>
</div>
